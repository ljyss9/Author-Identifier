洪武三十年。四月初三，朱元璋给晋王、燕王下了一道敕书，谕以“备边十事”：
其一曰，向者发往开平防边擒胡大小将校，宜遣人阅实明白，具籍以闻。是时塞草方青，胡人必顺水草而南，宜谨斥堠，广布置，务殚智虑，设法提防。每一堠用马二匹，而以三十堠为一路，计用六十匹。其相去或二十里，或三十里，则设一路，总十路则用马六百匹。其布置之法，则由内而外，其近里则二十里为一堠，计十堠。外则十五里为一堠，又计十堠。又外则十里为一堠，又计十堠。以此撙节一路，可望五百里，少有烽警，则无不先知矣。
其二曰，须选人领精骑或五六千或七八千，在百五十里至百里外一路潜伏，以侦望之，则可知彼虚实矣。
三曰，所设十路斥堠，每处为三十层，每层马二匹，东西相去二百里，广受所发防边将校。东五层内，西五层内，皆须在十层两向以候远望消息。仍令每堠垒炮积薪，务严备豫，昼则望烟，夜则望火，至加防慎，则彼之多寡亦可知矣。
四曰，王所统大军，除发去都督等员率领提备，其余护卫或一万，或二万，亲王率于附近屯所往来牧放，仍须被坚执锐，夙夜加谨。望远者，去王约三十里，不许顷刻有怠。王之队伍，常在斥堠以里，不宜久驻一处。东西南北往来莫测，又须趁逐水草，随营牧放以就孳焉。
其五曰，今年八月二十日晋王、燕王起程，九月一日，辽、宁、谷、代起程，务在约量程途，同至京师，朕别有议非面谕不可也。
其六曰，今年屯种自东胜至开平，开平至大宁、广宁，须五月，报禾苗长养何如，七月再报结实何如，十月又报所收子粒若于。一岁三报，不惟使朕知边储虚实，而屯军亦不至懈力矣。
其七曰，晋王、燕王宜督诸王并都司、行都司报知孳畜预战马数，必从行太仆亲点视稽验。自洪武二十三年至于今，通计所产驹若干，悉数以闻。
其八曰，京师发去江淮太仆寺孳生马及战马，八年之间数该七万。王督诸王及都司，行都司，以逐年领马之数，稽其原领月日，暨受马月日，条列具陈，仍令太仆寺督并，更加号令催督都司，行都司，毋容少怠。
其九曰，向者所发有罪大小将校，须悉心点视，立成队伍，其中有名到而人不至，及有病亡者，皆须明白具数以闻。
其十曰，不分大小官员并军校等，凡领骒马，验其关领月日，每年纳驹一匹。仍须审其孳产有无，不可一概征索。
特谕尔知，如敕奉行。[22]
初九，朱元璋在给朱棣的信中说：
玉林、天城皆西北要地，非坚城池不可以守。今山西军已筑玉林城，其天城城宜令北平军士筑之。期今岁完。否则来年完之。毋促役以困其力也。
这时朱元璋仍念念不忘对蒙古的防御。不断地向诸王授以御敌方略。就在同一天，朱元璋又下令给晋王燕王说：
近钦天监奏，占天象当有胡兵入寇，朕以为不特天象可以征，以人事度之，胡人近有是谋。何也？前岁秋，山西塞外降胡逃归岭北，此数人居山西八年，安得不以中国虚实为胡人谋乎？此胡人入寇之端也。自今其令都司、行都司简阅步卒、骑兵、或三万或二万，常兼数万步卒，而骑兵每五百以一将领之。五百分为五队，每队领以一战将，而五将咸听一将之令，往来折冲，以据贼阵。步兵亦如骑兵之法，选将领之。严饬队伍与骑兵并进而夹攻。我马虽少，步兵则多，胡马虽多，彼无步卒。苟有侵犯，可与战矣。其深体联意毋忽。[23]
这月，朱元璋又命燕王筑大同城[24]。五月十八，朱元璋再次以天象示变敕谕晋燕代辽宁谷六王说：验之历代天象若此者，边戍不宁，往往必验。今天象于往者正同，不可不慎也。其应虽非今岁，然二三岁间灼有寇边者。宜令军马东西布列，各守其地。今尔等所守地方，不下六千里，急遽难为聚会，每处军马多者不过一二万，而胡人之马计有十万。其不出则已，设若南行，马势必盛。自非机智深密昼夜熟算，孰能制之？兵法云“致人不致于人”，“多算胜，少算不胜，况无算乎”。吾今老矣，精力衰微，机思谋虑艰于运筹，尔等受封朔土，藩屏朝廷，若不深思远虑，倘或失机误事，非惟贻忧朕躬，尔等安危亦系于是，可不慎哉！
吾今略与尔谋，或今岁或二三岁，大军未会，止是本护卫及都司行都司军马各守分地，多不过一二万，倘遇胡马十数万寇边，不宜与战，或收入壁垒，或据山谷险隘之处，夹以步兵，深伏以待之。彼见我不与之战，必四出钞掠，俟其骄怠分散，队伍不严，我以马步邀截要道，破之必矣。若一见胡马辄以三五千或一二万轻与之战，岂特不能胜之，必至失利。务在深藏设计，待彼肆意驰骋，则一鼓可擒其首将矣。
